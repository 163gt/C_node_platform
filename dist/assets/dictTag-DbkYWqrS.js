import{W as n,K as m,r as s,q as h,j as u,s as p,M as f,o as g,a2 as D,w as l,h as I,n as T,G as v}from"./index-DMicvl7E.js";function C(t){return n({url:"/queryDictionaryType",method:"get",params:t})}function w(t){return n({url:"/createDictionaryType",method:"post",data:t})}function b(t){return n({url:"/updateDictionaryType",method:"post",data:t})}function k(t){return n({url:"/createDictionaryItem",method:"post",data:t})}function x(t){return n({url:"/updateDictionaryItem",method:"post",data:t})}function S(t){return n({url:"/queryDictionaryItem",method:"get",params:t})}const N=m("dictionary",{state:()=>({dictionaryCache:{}}),actions:{async fetchDictionary(t){if(console.log(t,"dictionaryCode"),this.dictionaryCache[t])return console.log(this.dictionaryCache[t],"返回缓存的数据"),this.dictionaryCache[t];try{const e=await S({dictionaryCode:t});return this.dictionaryCache[t]=e.data,console.log(e.data,"返回请求的数据"),e.data}catch(e){throw console.error("字典数据加载失败",e),new Error("字典数据加载失败")}},getDictionary(t){return this.dictionaryCache[t]?this.dictionaryCache[t]||[]:this.fetchDictionary(t)}}}),z={__name:"dictTag",props:{dictionaryCode:{type:String,required:!0},value:{type:Number,required:!0},dictKey:{type:String,default:"NTag"},type:{type:String,default:null},round:{type:Boolean,default:!1},size:{type:String,default:"medium"},Icon:{type:Object,default:null}},setup(t){const e=N(),r=s([]),a=s(),c=t;return h(async()=>{r.value=await e.getDictionary(c.dictionaryCode);const o=r.value.find(i=>i.value===c.value);o?a.value=o.label:a.value=""}),(o,i)=>{const d=u("n-icon"),y=u("NTag");return t.dictKey==="NTag"?(g(),p(y,{key:0,type:t.type,round:t.round,size:t.size},D({default:l(()=>[T(v(a.value)+" ",1)]),_:2},[t.Icon?{name:"icon",fn:l(()=>[I(d,{component:t.Icon},null,8,["component"])]),key:"0"}:void 0]),1032,["type","round","size"])):f("",!0)}}};export{z as _,b as a,w as b,k as c,C as g,S as q,x as u};
